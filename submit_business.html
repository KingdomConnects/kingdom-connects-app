<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Submit Your Business</title>
  <link rel="stylesheet" href="styles/style.css" />
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
</head>
<body>
  <div class="form-container">
    <h1>Submit Your Business</h1>
    <form id="businessForm">
      <label>Business Name</label>
      <input type="text" name="business_name" required />

      <label>Your Name</label>
      <input type="text" name="owner_name" required />

      <label>Contact Email</label>
      <input type="email" name="email" required />

      <label>Brief Description</label>
      <textarea name="description" required></textarea>

      <label>Phone Number</label>
      <input type="text" name="phone" required />

      <label>Website URL</label>
      <input type="url" name="website" />

      <label>Address Line 1</label>
      <input type="text" name="address_line1" required />

      <label>Address Line 2</label>
      <input type="text" name="address_line2" />

      <label>City</label>
      <input type="text" name="city" required />

      <label>State</label>
      <input type="text" name="state" required />

      <label>ZIP Code</label>
      <input type="text" name="zip_code" required />

      <label>Select Your Church</label>
      <select name="church_id" id="churchSelect" required>
        <option value="">Loading churches...</option>
      </select>

      <button type="submit">Submit</button>
    </form>
    <div id="formMessage"></div>
  </div>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyD3Im6F3lWgMbJiA7plsDt_Rp9kCLTr6KU",
      authDomain: "kingdom-commerce.firebaseapp.com",
      projectId: "kingdom-commerce",
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    const form = document.getElementById("businessForm");
    const messageBox = document.getElementById("formMessage");
    const churchSelect = document.getElementById("churchSelect");

    // Load churches dynamically into dropdown
    db.collection("churches").get().then(snapshot => {
      churchSelect.innerHTML =